{
  "description": "Create customer request model",
  "required": [
    "customerReference",
    "firstName",
    "lastName",
    "email",
    "mobile",
    "dateOfBirth",
    "paymentOption",
    "paymentAmount",
    "paymentFrequency",
    "paymentStartDate",
    "notificationMethod"
  ],
  "properties": {
    "customerReference": {
      "description": "Customer / Parent Reference. Should be unique and provided by the merchant.\r\nIf you are paying the merchant by BPAY, this should be your BPAY Reference.",
      "type": "string"
    },
    "title": {
      "description": "Provide the salutation. Eg: Mr or Mrs",
      "type": "string",
      "maxLength": 10
    },
    "firstName": {
      "description": "First name",
      "type": "string",
      "maxLength": 30
    },
    "lastName": {
      "description": "Last name",
      "type": "string",
      "maxLength": 30
    },
    "customerCompanyName": {
      "description": "Company name if this is company account.",
      "type": "string"
    },
    "abn": {
      "description": "Australian Business Number",
      "type": "string"
    },
    "merchantStaffMember": {
      "description": "Merchant Staff member assigned to this customer / parent.",
      "type": "string"
    },
    "address": {
      "$ref": "#/definitions/CustomerAddress",
      "description": "Customer address"
    },
    "email": {
      "description": "Email address",
      "type": "string"
    },
    "mobile": {
      "description": "Mobile number",
      "type": "string"
    },
    "phone": {
      "description": "Phone number",
      "type": "string"
    },
    "fax": {
      "description": "Fax number",
      "type": "string"
    },
    "dateOfBirth": {
      "description": "Date of birth. Customer must be atleast 16 years old.",
      "type": "string",
      "format": "date-time"
    },
    "promotionCode": {
      "description": "Promotion code if any.",
      "type": "string"
    },
    "paymentOption": {
      "description": "Payment option. Use the correct payment option which is supported by the merchant.",
      "type": "integer",
      "format": "int32",
      "enum": [
        22,
        23,
        24,
        25,
        26,
        27,
        28,
        148,
        149
      ],
      "PaymentOption": "AutoPay: 22; EmailReminder: 23; SmsReminder: 24; FixedTerm: 25; BatchPay: 26; ScheduledPay: 27; OneOff: 28; PayID: 148; BPAY: 149"
    },
    "paymentAmount": {
      "description": "Payment amount. Set the default amount for auto payments or amount for one-off payment.",
      "type": "number",
      "format": "double"
    },
    "paymentFrequency": {
      "description": "Payment frequency. Applicable to auto pay, email reminder and sms reminder.",
      "type": "integer",
      "format": "int32",
      "enum": [
        32,
        33,
        38,
        34,
        35,
        36,
        37
      ],
      "PaymentFrequency": "Weekly: 32; Fortnightly: 33; Monthly: 34; Quarterly: 35; HalfYearly: 36; Yearly: 37; FourWeeks: 38"
    },
    "paymentStartDate": {
      "description": "Payment start date.",
      "type": "string",
      "format": "date-time"
    },
    "paymentEndDate": {
      "description": "Payment end date",
      "type": "string",
      "format": "date-time"
    },
    "notificationMethod": {
      "description": "Notification method used to indicate the communication channel when payment successful or failed.",
      "type": "integer",
      "format": "int32",
      "enum": [
        0,
        1,
        2
      ],
      "NotificationMethod": "None: 0; Sms: 1; Email: 2"
    },
    "additionalReferences": {
      "description": "Additional references if you have more than one references to manage. Eg: Parents paying childcare fee for more than one kid.",
      "items": {
        "$ref": "#/definitions/AdditionalReference"
      },
      "xml": {
        "name": "AdditionalReference",
        "wrapped": true
      },
      "type": "array"
    },
    "bankAccount": {
      "$ref": "#/definitions/BankAccount",
      "description": "Customer bank account details."
    },
    "card": {
      "$ref": "#/definitions/CreditCardProxy",
      "description": "Customer credit / debit card proxy. (Token is generated using the /tokens api."
    },
    "enableBPayOption": {
      "description": "Allows to enable BPAY option for the customer / parent",
      "type": "boolean"
    },
    "sendWelcomeEmail": {
      "description": "Sends welcome email if set to true. Default is set to true if not passed.",
      "type": "boolean"
    },
    "isBPayCrnPassed": {
      "description": "Send this as true when customer reference passed if CRN. Default is set to false if not passed.",
      "type": "boolean"
    },
    "paymentAccountProxy": {
      "$ref": "#/definitions/AccountProxy",
      "description": "This replaces the BankAccount and Card properties. \r\nProxy is generated using the Payments Plugin for Bank and Credit/Debit Card or /cardProxies api for Credit/Debit Card."
    },
    "additionalPaymentAccountProxies": {
      "description": "Additional PaymentAccountProxies. \r\nProxy is generated using the Payments Plugin for Bank and Credit/Debit Card or /cardProxies api for Credit/Debit Card.",
      "items": {
        "$ref": "#/definitions/AccountProxy"
      },
      "xml": {
        "name": "AccountProxy",
        "wrapped": true
      },
      "type": "array"
    }
  },
  "xml": {
    "name": "NewCustomer"
  },
  "type": "object"
}